---
title: 'TypeScriptで書いたコードをRomeでフォーマットする（エディタ拡張機能編）' # 記事のタイトル
emoji: '🚪' # アイキャッチとして使われる絵文字（1文字だけ）
type: 'tech' # tech: 技術記事 / idea: アイデア記事
topics: ['rome', 'typescript'] # タグ。["markdown", "rust", "aws"]のように指定する
published: true # 公開設定（falseにすると下書き）
---

---

title: 'TypeScript で書いたコードを Rome でフォーマットする（エディタ拡張機能編）'
date: '2023-02-23T00:00:00.000Z'
excerpt: 'TypeScript で書いた CDK コードを Rome でフォーマットします。'
tags: ["rome", "typescript"]
published: true

---

# 前置き

TypeScript で書いた CDK コードのフォーマッターを選定中です。
ESLint と Prettier はセットアップが面倒に感じるので Rome を使ってみます。

https://rome.tools/

# 環境

- VSCode 1.75.1
- Rome 0.20.0

# セットアップ

## Rome の設定ファイルを作成

プロジェクトルートに rome.json を作成する。リンターとフォーマッターの設定が 1 ファイルで対応できます。

```json
{
  "linter": {
    "enabled": true,
    "rules": {
      "recommended": true
    }
  },
  "formatter": {
    "enabled": true,
    "formatWithErrors": false,
    "indentStyle": "space",
    "indentSize": 2,
    "lineWidth": 120,
    "ignore": []
  }
}
```

:::message
linter の recommended で設定されるルールは以下のページで確認できます。 https://docs.rome.tools/lint/rules/
:::

https://docs.rome.tools/configuration/

## エディタの拡張機能に Rome を追加

2023/02/17 現在 拡張機能は VSCode のみ対応しています。

<!-- ![](https://storage.googleapis.com/zenn-user-upload/294798af3cd6-20230217.png) -->

https://docs.rome.tools/guides/getting-started/#editor-setup

## VSCode の設定を変更

1. `cmd+,`で設定を開く
1. Default Formatter に Rome を設定する
1. Format On Save を有効にする

<!-- ![](https://storage.googleapis.com/zenn-user-upload/3ae5a484c1df-20230217.png) -->

<!-- ![](https://storage.googleapis.com/zenn-user-upload/a1b5259045ea-20230217.png) -->

コードを修正して保存するタイミングで整形が実行されます。

## 感想

- Rome のエディタ拡張機能は VSCode のみ対応しているので、他のエディタを使っている方は設定できません。ESLint や Prettier など別のフォーマッターのエディタ拡張機能を使う、Rome の npm パッケージをインストールして husky や lint-staged と組み合わせてフォーマットを実行する、などの方法を検討した方がいいかもしれません。
- Rome の主要なコントリビュータが開発から離脱したそうで将来性が少し不安です 😓

https://zenn.dev/kyrice2525/articles/article_tech_009
